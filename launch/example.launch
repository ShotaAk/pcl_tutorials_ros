<launch>
  <arg name="number" default="0" />
  <arg name="gazebo" default="false" />

  <group unless="$(arg gazebo)">
    <include file="$(find my_pcl_tutorial)/launch/realsense.launch" />
  </group>
  <group if="$(arg gazebo)">
    <!-- <include file="$(find my_pcl_tutorial)/launch/gazebo.launch" /> -->
  </group>

  <node name="pcl_example" pkg="my_pcl_tutorial" type="example">
    <param name="number" value="$(arg number)" />
  </node>

  <arg name="file_name" value="$(find my_pcl_tutorial)/samples/table_scene_lms400.pcd"/>
  <arg name="rate" value="0.1"/>
  <node pkg="pcl_ros" type="pcd_to_pointcloud" name="pcd_to_pointcloud" args="$(arg file_name) $(arg rate)" output="screen">
    <remap from="cloud_pcd" to="/camera/depth_registered/points"/>
    <param name="frame_id" value="camera_depth_optical_frame" />
  </node>

  <node name="rviz" pkg="rviz" type="rviz" respawn="false" 
    args="-d $(find my_pcl_tutorial)/launch/config.rviz" output="screen" />

</launch>
